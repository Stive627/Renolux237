{"ast":null,"code":"var _jsxFileName = \"/home/stive/Desktop/Apps/Web/Renolux/src/Register/Register.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Navbar from '../ComponentsReno/Navbar';\nimport { fetchLink } from '../Ttools';\nimport { useNavigate } from 'react-router-dom';\nimport '../App.css';\nimport FormAccueil from './FormAccueil';\nimport VerificationCode from './VerificationCode';\nimport UsernameUI from './UsernameUI';\nimport RoundStep from './RoundStep';\nimport PasswordUI from './PasswordUI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Register() {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password1, setPassword1] = useState('');\n  const [password2, setPassword2] = useState('');\n  const [code, setCode] = useState(undefined);\n  const [username, setUsername] = useState('');\n  const [steps, setSteps] = useState({\n    one: true,\n    second: false\n  });\n  const [ui, setUI] = useState(0);\n  const navigate = useNavigate();\n  const checkUsername = () => {\n    return true;\n  };\n  const handleFinish = async user => {\n    const formData = new FormData();\n    formData.append('username', user);\n    formData.append('email', email);\n    formData.append('password', password1);\n    try {\n      await fetch(fetchLink(''), {\n        body: formData\n      }).then(value => value.json()).then(value => value);\n      navigate('/admin');\n    } catch (error) {\n      console.error(error.response.data);\n    }\n  };\n  const handleNext = () => {\n    setTimeout(() => {\n      setUI(ui + 1);\n    }, 750);\n  };\n  useEffect(() => {\n    fetch('http://localhost:3001/admin/connect', {\n      credentials: 'include'\n    }).then(v => v.json()).then(value => {\n      setEmail(value.email);\n      setUsername(value.given_name);\n      setUI(3);\n    }).catch(err => console.log(err.response.data));\n  }, []);\n  switch (ui) {\n    case 0:\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        right: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 5\n      }, this), ui === 0 && /*#__PURE__*/_jsxDEV(FormAccueil, {\n        email: email,\n        password1: password1,\n        password2: password2,\n        emailValue: value => setEmail(value),\n        passord1Value: value => setPassword1(value),\n        password2Value: value => setPassword2(value),\n        handleVerification: handleNext\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), ui === 1 && /*#__PURE__*/_jsxDEV(VerificationCode, {\n        email: email,\n        code: code,\n        checkUsername: checkUsername,\n        handleFunc: handleNext\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), ui === 2 && /*#__PURE__*/_jsxDEV(UsernameUI, {\n        username: /\\w*/.exec(username)[0],\n        handleFinish: handleFinish\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [ui > 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \" mt-2 flex flex-row gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(RoundStep, {\n            step: steps.one,\n            value: '1'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(RoundStep, {\n            step: steps.two,\n            value: '2'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), ui === 3 && /*#__PURE__*/_jsxDEV(PasswordUI, {\n          handleVerification: () => handleNext(),\n          password1: password1,\n          password2: password2,\n          valuePassword1: value => setPassword1(value),\n          valuePassword2: value => setPassword2(value),\n          value: 'Continuer'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 22\n        }, this), ui === 4 && /*#__PURE__*/_jsxDEV(UsernameUI, {\n          username: username,\n          handleFinish: handleFinish\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 4\n  }, this);\n}\n_s(Register, \"j9JTkstsX5cjC7tl2OJscr7+U/k=\", false, function () {\n  return [useNavigate];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useEffect","useState","Navbar","fetchLink","useNavigate","FormAccueil","VerificationCode","UsernameUI","RoundStep","PasswordUI","jsxDEV","_jsxDEV","Register","_s","email","setEmail","password1","setPassword1","password2","setPassword2","code","setCode","undefined","username","setUsername","steps","setSteps","one","second","ui","setUI","navigate","checkUsername","handleFinish","user","formData","FormData","append","fetch","body","then","value","json","error","console","response","data","handleNext","setTimeout","credentials","v","given_name","catch","err","log","children","right","fileName","_jsxFileName","lineNumber","columnNumber","emailValue","passord1Value","password2Value","handleVerification","handleFunc","exec","className","step","two","valuePassword1","valuePassword2","_c","$RefreshReg$"],"sources":["/home/stive/Desktop/Apps/Web/Renolux/src/Register/Register.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport Navbar from '../ComponentsReno/Navbar';\nimport { fetchLink } from '../Ttools';\nimport { useNavigate } from 'react-router-dom';\nimport '../App.css'\nimport FormAccueil from './FormAccueil';\nimport VerificationCode from './VerificationCode';\nimport UsernameUI from './UsernameUI';\nimport RoundStep from './RoundStep';\nimport PasswordUI from './PasswordUI';\n\nfunction Register() {\n    const [email, setEmail]= useState('')\n    const [password1, setPassword1] = useState('')\n    const [password2, setPassword2] = useState('')\n    const [code, setCode] = useState(undefined)\n    const [username, setUsername] = useState('')\n    const [steps, setSteps] = useState({one:true, second:false})\n    const [ui, setUI] = useState(0)\n    const navigate = useNavigate()\n\n    const checkUsername = () =>{\n        return true \n    }\n    const handleFinish = async(user) =>{\n        const formData = new FormData()\n        formData.append('username', user)\n        formData.append('email', email)\n        formData.append('password', password1)\n        try{\n           await fetch(fetchLink(''), {\n                body:formData\n            })\n            .then(value =>value.json())\n            .then(value => value)\n            navigate('/admin')\n        }\n        catch(error){\n            console.error(error.response.data)\n        }\n\n    }\n    const handleNext = () =>{\n        setTimeout(() => {\n            setUI(ui + 1)\n        }, 750);}\n\n    useEffect(() => {\n        fetch('http://localhost:3001/admin/connect',{credentials:'include'})\n        .then(v => v.json())\n        .then(value =>{\n            setEmail(value.email)\n            setUsername(value.given_name)\n            setUI(3)\n        } )\n        .catch((err) => console.log(err.response.data))\n        }\n   ,[])\n   switch(ui){\n    case 0:\n\n   }\n  return (\n   <div>\n    <div>\n    <Navbar right = {false}/>\n   {ui === 0 && <FormAccueil email= {email} password1 = {password1} password2 = {password2} emailValue = {value => setEmail(value)} passord1Value = {value => setPassword1(value)} password2Value={value =>setPassword2(value)} handleVerification={handleNext} />}\n   {ui === 1 && <VerificationCode email={email} code={code} checkUsername={checkUsername} handleFunc={handleNext}/>}\n   {ui === 2 && <UsernameUI username={/\\w*/.exec(username)[0]} handleFinish={handleFinish}/>}\n\n   <div>\n{ui > 2 &&<div className=' mt-2 flex flex-row gap-2'>\n                <RoundStep  step ={steps.one} value = {'1'}/>\n                <RoundStep step ={steps.two} value = {'2'}/>\n            </div>}\n        {ui === 3 && <PasswordUI handleVerification={()=>handleNext()} password1 = {password1} password2 = {password2} valuePassword1={value =>setPassword1(value)} valuePassword2={value =>setPassword2(value)} value={'Continuer'}/>}\n        {ui === 4 && <UsernameUI username = {username} handleFinish = {handleFinish}/>}\n   </div>\n   </div>\n   </div>\n  )\n}\n\nexport default Register"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}